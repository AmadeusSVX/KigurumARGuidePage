# KigurumAR
- 着ぐるみのようにVRMアバターを身に着けて、いつでもどこでも気軽に静止画、動画を撮影できるアプリです。
- リアルの被写体の人の姿はカメラの視界から消去され、代わりに人と同じ動きをするVRMアバターがリアルタイムに表示されます。
- Apple製のA12プロセッサ以降を搭載したiOSデバイス（iPhone/iPad）に対応しています。

## [「KigurumAR」をApp Storeで](https://apps.apple.com/jp/app/xxxxxxxx)

## 機能紹介
### VRMモデル読込
VRMフォーマットに準拠した任意のモデルを読み込んで、3Dアバターとして使用する事が出来ます。

[VRMフォーマットについて](https://vrm.dev/)

### 3Dポーズトラッキング
カメラの視界に入った人物のポーズ（手足の角度）を認識して、3Dアバターに反映させることができます

### 人物消去、フェードイン/アウト
カメラの視界に入った人物は、ポーズを認識されると同時に消去されて背景と同化するよう処理され、人物の姿を3Dアバターに置き換える事が出来ます。<br>
この消去処理は人物<-->3Dアバター間でフェードイン、フェードアウトさせることができ「変身」の演出を動画で行うことも出来ます。

**綺麗に人物消去を行うには、被写体、撮影の双方に注意するべき点があります。詳しくは使い方を参照ください**

### リップシンク
表示された3Dアバターは、入力される音声によってリップシンク（口パク）を行わせることができます。
リップシンク機能の実装には凹み氏のuLipSyncを使用させていただいています。

### 表情、手の表現
表情はノーマルと喜怒哀楽の5種類、手はグー、チョキ、パー、指差しの4種類をアプリ画面上から随時選択する事が出来ます。

### キーボードショートカット
撮影操作、フェードイン・アウト、上記の表情、手の表現はBluetoothなどで接続されたキーボードによる遠隔入力が可能です。詳しくは使い方を参照ください。

### 照明推定
自動で照明環境を推定して、光源の角度や周囲の色を取得する事が出来ます。
PBR（物理ベースレンダリング）のマテリアルを持つVRMモデルを使えば、よりリアルな表現が可能になります。

### 床面認識
撮影環境内の床面や地面を自動で認識して、3Dアバターの影を落とすことができます。
足元を含めて撮影する場合により「地に足の着いた」表現が出来るようになります。

-----

## 実行環境
Apple製のA12プロセッサ以降を搭載したiOSデバイス
**LiDAR搭載機種(iPhone12Pro/Pro Max、iPad Pro 11インチ（第2世代）、12.9インチ（第3世代）を推奨)**
- [x] iPhone 12 Pro Max
- [ ] iPhone 11 Pro
- [ ] iPhone 11
- [ ] iPhone 11 Pro Max
- [ ] iPhone 11 Pro
- [ ] iPhone 11
- [ ] iPhone XS Max
- [ ] iPhone XS
- [ ] iPhone XR
- [ ] iPad Pro 12.9 インチ (第4世代)
- [ ] iPad Pro 12.9 インチ (第3世代)
- [ ] iPad Pro 11 インチ (第2世代)
- [ ] iPad Pro 11 インチ

- [x] 動作確認済み

[参考ページ(英語)](https://developer.apple.com/augmented-reality/arkit/)

-----

## 使い方

### VRMモデル読み込み
アプリを起動して右上のメニューボタンを押してメニューを出し、フォルダアイコンを押してVRMファイルを選択します。
Safariブラウザでダウンロードしたファイルの場合はダウンロードフォルダに、Chromeブラウザの場合はChromeフォルダに保存されています。
ダウンロードしたファイルがzip形式の場合は、あらかじめ他のアプリ（ファイルなど）で解凍してVRMファイルを出力しておいてください。

### 撮影準備
通常の写真撮影と同じく、一人の場合と二人以上の場合では準備する物が異なります（現時点では手持ちでの自撮りには対応していません）
- 一人の場合: iPhone/iPad本体をスマートフォンを固定できる三脚に固定し、小型BluetoothキーボードをiPhone/iPad本体に接続して使えるようにします
- 二人の場合: iPhone/iPad本体のみ

### 撮影


### 音声入力

### その他tips


## 今後の予定
- [ ] セルフタイマー追加
- [ ] 横位置での撮影対応
- [ ] 人物消去の品質改善
- [ ] iOS多機種対応
- [ ] Android版リリース

## 更新履歴
- 2021/03/xx v0.9.0公開

## お問い合わせ
- [お問い合わせページ](https://docs.google.com/forms/d/e/1FAIpQLSeM6epPLYCkLF4ngk_GQKEzkqP9Fn1FzsuyhnKS3RJylz_Klg/viewform)
- [Twitter](https://twitter.com/AmadeusSVX)


<a href="https://twitter.com/share?ref_src=twsrc%5Etfw&hashtags=Emosign" class="twitter-share-button" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
